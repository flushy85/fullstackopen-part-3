{"version":3,"sources":["components/Contact.js","components/Form.js","services/conctacts.js","components/Notification.js","app.js","index.js"],"names":["Contact","name","number","remove","onClick","Form","addContact","newName","newNumber","nameChange","numberChange","onSubmit","value","onChange","type","baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","console","log","errorStyle","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","noticeStyle","Notification","error","notice","style","App","useState","persons","setPersons","setNewName","setNewNumber","newFilter","setNewFilter","errorMsg","setErrorMsg","noteMsg","setNoteMsg","useEffect","contactService","initialNotes","handleNameChange","event","target","handleNumberChange","preventDefault","confirm","forEach","person","window","nameObj","createdPerson","catch","updateContact","contact","find","c","newContact","returnedContact","map","setTimeout","regex","RegExp","people","filter","obj","match","key","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.fd9ef3c6.chunk.js","sourcesContent":["import React from 'react'\n\nconst Contact = ({ name, number, remove }) => {\n    \n    return (\n        <tr>\n            <td>\n                {name} \n            </td>\n            <td>\n                {number}\n            </td>\n            <td>\n                <button onClick={remove} >delete</button>\n            </td>\n        </tr>\n    )\n}\n\nexport default Contact","import React from 'react'\n\n\nconst Form = ({addContact, newName, newNumber, nameChange, numberChange}) => {\n    \n\n    return (\n        <form onSubmit={addContact}>\n            <div>\n                name: <input value={newName} onChange={nameChange}/>\n            </div>\n            <div>\n                number: <input value={newNumber} onChange={numberChange}/>\n            </div>\n            <div>\n                <button type=\"submit\">add</button>\n            </div>\n        </form>\n\n    )\n}\n\nexport default Form","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n  }\n  \n  const create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n  }\n  \n  const update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n  }\n  \n\n  const remove = (id, name) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => console.log(`${name} deleted from database`)) \n  }\n  export default { \n    getAll, \n    create, \n    update,\n    remove \n  }\n","import React from 'react';\n\nconst errorStyle = {\n    color: 'red',\n    background: 'lightgrey',\n    fontSize: 20,\n    borderStyle: 'solid',\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10\n  }\n\nconst noticeStyle = {\n    color: 'green',\n    background: 'lightgrey',\n    fontSize: 20,\n    borderStyle: 'solid',\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10\n}\n\nconst Notification = ({ error, notice }) => {\n    if (error === null && notice === null){\n        return null\n    } else if (error){\n        return (\n            <div style={errorStyle}> {error} </div>\n        )\n    } else {\n        return (\n            <div style={noticeStyle}> {notice} </div>\n        )\n    }       \n}\n\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport Contact from './components/Contact'\nimport Form from './components/Form'\nimport contactService from './services/conctacts'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ newFilter, setNewFilter ] = useState('')\n  const [errorMsg, setErrorMsg] = useState(null)\n  const [noteMsg, setNoteMsg] = useState(null)\n\n  useEffect(() => {\n    contactService\n      .getAll()\n      .then(initialNotes => {\n        setPersons(initialNotes)\n      })\n  },[])\n   \n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n  \n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    setNewFilter(event.target.value)\n  }\n\n  const addContact = (event) =>  {\n    event.preventDefault()\n    \n    let confirm = false\n    let value = -1\n    \n    \n    persons.forEach(person => {\n      if(person.name === newName)\n        value = person.id\n    })\n    \n    if(value !== -1) {\n      confirm = window.confirm(` ${newName} already exists in phonebook, replace old number with new one?`)\n\n    } else {\n      const nameObj = {\n        name: newName,\n        number: newNumber\n      }\n      contactService\n        .create(nameObj)\n        .then(createdPerson => {\n          console.log(`${nameObj.name} added`)\n        })\n        .catch(error => {\n          console.log(error.response.data)\n          return setErrorMsg(error.response.data.error)\n          \n        })\n      setNoteMsg(`Added ${newName} to phonebook`)\n      setNewName('')\n      setNewNumber('')\n       \n    }\n    confirm ? updateContact(value, newNumber)\n    : console.log('do nothing')\n          \n  }\n\n  const updateContact = (id, number) => {\n    let contact = persons.find(c => c.id === id)\n    let newContact = {...contact, number: number }\n    \n    contactService\n      .update(id, newContact)\n      .then(returnedContact => {\n        setPersons(persons.map(contact => contact.id !== id ? contact : returnedContact))\n        setNoteMsg(`${contact.name} updated in phonebook`)\n      })\n      .catch(error => {setErrorMsg(\n        `Note '${contact.name}' was already removed from the database` \n      )\n      setTimeout(() => {\n        setErrorMsg(null)\n      }, 5000)\n    })\n  }\n\n\n  const deleteName = (id, name) => {\n    contactService\n      .remove(id, name)\n      .catch(error => {setErrorMsg(\n          `Note '${name}' was already removed from the database` \n      )\n      setTimeout(() => {\n        setErrorMsg(null)\n      }, 5000)\n      })\n      .then(returnedContact => setNoteMsg(`${name} deleted from phonebook`))\n      \n  }\n\n  const fieldEntry = () => \n      <Form \n        newName={newName} \n        newNumber={newNumber} \n        nameChange={handleNameChange} \n        numberChange={handleNumberChange}\n        addContact={addContact}\n      />\n\n  const regex = new RegExp(`${newFilter}`, 'i')  \n  const people = persons.filter((obj) => obj.name.match(regex))\n   \n  \n  const contactList = () => people.map(contact =>\n    < Contact \n        name={contact.name} \n        key={contact.id} \n        number={contact.number}\n        remove={() => deleteName(contact.id, contact.name)}\n    />)\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <div>\n        <Notification error={errorMsg} notice={noteMsg} />\n      </div>\n      <div>\n        filter results: <input value={newFilter} onChange={handleFilterChange}/>\n      </div>\n      <br/>\n      {fieldEntry()}\n      <h2>Numbers</h2>\n      <table>\n            <tbody>\n                {contactList()}\n            </tbody>    \n        </table>\n    </div>\n  )\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './app'\n\n\n\n\nReactDOM.render(<App />, document.getElementById('root'))\n\n"],"sourceRoot":""}